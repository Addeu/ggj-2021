window.__require=function e(t,i,n){function r(a,c){if(!i[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var u="function"==typeof __require&&__require;if(!c&&u)return u(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var s=i[a]={exports:{}};t[a][0].call(s.exports,function(e){return r(t[a][1][e]||e)},s,s.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({BaseScene:[function(e,t,i){"use strict";var n;cc._RF.push(t,"4aaddzEWP5BlJttMTcAuMJ3","BaseScene"),i.__esModule=!0,i.default=void 0;var r=(0,cc._decorator.ccclass)(n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n.prototype.onLoad=function(){},n}(cc.Component))||n;i.default=r,t.exports=i.default,cc._RF.pop()},{}],BaseWindow:[function(e,t,i){"use strict";cc._RF.push(t,"26c9axXvXdCboJ7OT+Otni5","BaseWindow"),i.__esModule=!0,i.BaseWindow=void 0;var n,r,o,a,c,l,u,s=e("../dialogues/Dialogue");function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=cc._decorator,y=h.ccclass,b=h.property,v=(n=b(cc.Node),r=b({type:cc.SpriteFrame}),y((u=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return p(t=e.call.apply(e,[this].concat(n))||this,"contentNode",c,d(t)),p(t,"ballSprites",l,d(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r,o,a=n.prototype;return a.onLoad=function(){var e=this.node.getChildByName("buttons");e.getChildByName("continueButton").on(cc.Node.EventType.TOUCH_START,this._processContinueButtonClick,this),e.getChildByName("playButton").on(cc.Node.EventType.TOUCH_START,this._processPlayButtonClick,this),e.getChildByName("restart").on(cc.Node.EventType.TOUCH_START,this._processRestartClick,this)},a._processContinueButtonClick=function(){this.node.removeFromParent(!0),this._player.oxygen-=3},a._processPlayButtonClick=function(){this.node.removeFromParent(!0),this._player.energy-=1},a._processRestartClick=function(){cc.director.loadScene("Menu")},a.setSpriteFrame=function(e){var t=this.contentNode.getComponent(cc.Sprite);t&&(t.spriteFrame=this.ballSprites[e])},a.playDialogue=function(e){this._dialogue=new s.Dialogue(this.node.getChildByName("description")),this._dialogue.runTalk(e)},r=n,(o=[{key:"player",set:function(e){this._player=e}}])&&g(r.prototype,o),n}(cc.Component),c=f((a=u).prototype,"contentNode",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=f(a.prototype,"ballSprites",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=a))||o);i.BaseWindow=v,cc._RF.pop()},{"../dialogues/Dialogue":"Dialogue"}],DecoratorsConfig:[function(e,t,i){"use strict";cc._RF.push(t,"5a375gdWmBLFq01SMQutYTr","DecoratorsConfig"),i.__esModule=!0,i.DecoratorPrices=i.Decorators=void 0;var n={beasts:501,quickSand:502,liana:503,moss:601,geyser:602};i.Decorators=n;var r=[{id:n.beasts,oxygen:3,energy:1,oxygenBonus:1},{id:n.quickSand,oxygen:3,energy:1,oxygenBonus:1},{id:n.liana,oxygen:3,energy:1,oxygenBonus:1},{id:n.moss,oxygen:5,energyBonus:3},{id:n.geyser,energy:1,oxygenBonus:10}];i.DecoratorPrices=r,cc._RF.pop()},{}],DialogueImage:[function(e,t,i){"use strict";var n,r,o,a,c,l,u,s,p,g,d;function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}cc._RF.push(t,"43d71bwNYVEIpt0/RnO3aos","DialogueImage"),i.__esModule=!0,i.DialogueImage=void 0;var b=cc._decorator,v=b.ccclass,_=b.property,m=(n=_(cc.Node),r=_(cc.SpriteFrame),o=_(cc.SpriteFrame),a=_(cc.SpriteFrame),v((d=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return f(t=e.call.apply(e,[this].concat(n))||this,"spriteNode",u,h(t)),f(t,"character1",s,h(t)),f(t,"character2",p,h(t)),f(t,"character3",g,h(t)),t}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n.prototype.setSpriteFrame=function(e){var t=this.spriteNode.getComponent(cc.Sprite);t&&(t.spriteFrame=this["character"+e])},n}(cc.Component),u=y((l=d).prototype,"spriteNode",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=y(l.prototype,"character1",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y(l.prototype,"character2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y(l.prototype,"character3",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=l))||c);i.DialogueImage=m,cc._RF.pop()},{}],Dialogue:[function(e,t,i){"use strict";cc._RF.push(t,"c873bsbdV5KQq4nWv9Uj8dI","Dialogue"),i.__esModule=!0,i.Dialogue=void 0;var n=e("../Locale"),r=function(){function e(e){this._playedText=0,this._dialogue={},this._renderNode=e,this._char=e.getComponent("DialogueImage"),this._text=e.getComponent("TypableText"),this._textContainer=e.getChildByName("textContainer"),this._textContainer&&(this._textContainer.active=!1)}var t=e.prototype;return t.runTalk=function(e){this._text.isTextTyping=!1,this._textContainer&&(this._textContainer.active=!0),this._dialogue="string"==typeof e?n.Locale.getString(e):e,this._playedText=0,this._dialogue&&(this._processDialogue(),this._renderNode.on(cc.Node.EventType.TOUCH_START,this._processDialogue,this))},t._processDialogue=function(){if(!this._text.isTextTyping){this._text.isTextTyping=!0;var e=this._dialogue[this._playedText];e?(this._char&&this._char.setSpriteFrame(e.character),this._text.processDialogue(e),++this._playedText):(this._renderNode.off(cc.Node.EventType.TOUCH_START,this._processDialogue,this),this._textContainer&&(this._textContainer.active=!1))}},e}();i.Dialogue=r,cc._RF.pop()},{"../Locale":"Locale"}],EventsConfig:[function(e,t,i){"use strict";cc._RF.push(t,"076e0beItBAf6minOXjm7EV","EventsConfig"),i.__esModule=!0,i.Events=void 0,e("./config"),i.Events={event1:1e4,event2:2e4,event3:3e4,event4:4e4,event5:5e4,event6:50001,event7:50002,oxygen1:6e4,oxygen2:7e4,oxygen3:8e4,oxygenMushroom:9e4},cc._RF.pop()},{"./config":"config"}],FinalScene:[function(e,t,i){"use strict";cc._RF.push(t,"46134KHHrJNCowcUmprVZbC","FinalScene"),i.__esModule=!0,i.default=void 0;var n,r,o,a,c,l,u,s,p,g,d,f,h,y,b=(n=e("./BaseScene"))&&n.__esModule?n:{default:n},v=e("../Locale");function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}e("../../config");var T=cc._decorator,w=T.ccclass,S=T.property,C=(r=S(cc.Node),o=S(cc.SpriteFrame),a=S(cc.SpriteFrame),c=S(cc.SpriteFrame),l=S(cc.AudioClip),w((y=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return _(t=e.call.apply(e,[this].concat(n))||this,"background",p,m(t)),_(t,"backgroundImage1",g,m(t)),_(t,"backgroundImage2",d,m(t)),_(t,"backgroundImage3",f,m(t)),_(t,"slideSound",h,m(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),cc.audioEngine.stopAll(),cc.audioEngine.playMusic(this.slideSound,!0),this.dialogueText=v.Locale.getString("finalDialogue"),this.playedText=0,this.processDialogue(),this.node.on(cc.Node.EventType.TOUCH_START,this.processDialogue,this)},r.onDisable=function(){cc.audioEngine.stopAll()},r.processDialogue=function(){this.renderText(this.node.getChildByName("dialogue")),this.updateBackground()},r.renderText=function(e){var t=e.getComponent("DialogueImage"),i=e.getComponent("TypableText");if(!i.isTextTyping){i.isTextTyping=!0;var n=this.dialogueText[this.playedText];n?(t&&t.setSpriteFrame(n.character),i.processDialogue(n),this.playedText++):cc.director.loadScene("FinalBest")}},r.updateBackground=function(){var e=this.background.getComponent(cc.Sprite);if(e){var t=1;switch(this.playedText){case 5:case 6:t=2;break;case 7:t=3}e.spriteFrame=this["backgroundImage"+t]}},n}(b.default),p=x((s=y).prototype,"background",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=x(s.prototype,"backgroundImage1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=x(s.prototype,"backgroundImage2",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=x(s.prototype,"backgroundImage3",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=x(s.prototype,"slideSound",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=s))||u);i.default=C,t.exports=i.default,cc._RF.pop()},{"../../config":"config","../Locale":"Locale","./BaseScene":"BaseScene"}],GameMap:[function(e,t,i){"use strict";var n,r,o,a,c,l,u,s,p,g,d;function f(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=h(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function h(e,t){if(e){if("string"==typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}cc._RF.push(t,"10feedcZkhLf56NbzZzrouL","GameMap"),i.__esModule=!0,i.GameMap=void 0;var m=cc._decorator,x=m.ccclass,T=m.property,w=[[0,1],[0,-1],[1,0],[-1,0]],S=(n=T({type:cc.TiledMap,visible:!0}),r=T({type:cc.TiledLayer,visible:!0}),o=T({type:cc.TiledLayer,visible:!0}),a=T({type:cc.TiledLayer,visible:!0}),x((d=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return b(t=e.call.apply(e,[this].concat(n))||this,"_tiledMap",u,v(t)),b(t,"_selectionLayer",s,v(t)),t._selectionGID=2,t._hightlightGID=3,t._emptyGID=37,t._selectedTiles=[],b(t,"_tileLayer",p,v(t)),b(t,"_bg",g,v(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.onLoad=function(){this._initInput(),this._initSelection()},r._initSelection=function(){for(var e=this._selectionLayer.getLayerSize(),t=0;t<e.width;t++)for(var i=0;i<e.height;i++)this.selectTileAt({x:t,y:i})},r._initInput=function(){this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this)},r._onTouchEnd=function(e){var t=this.getTileBy(e.touch.getLocation());if(t){var i=this.getPositionAt(t),r=this._selectedTiles.find(function(e){return e.x===t.x&&e.y===t.y})?n.EVENT_SELECT_TILE:n.EVENT_INPUT_TILE;this.node.emit(r,t,i)}},r.getTileAt=function(e){var t=e.x,i=e.y;return 0!==this._tileLayer.getTileGIDAt(t,i)?this._tileLayer.getTiledTileAt(t,i,!0):this._bg.getTiledTileAt(t,i,!0)},r.getTileBy=function(e){e=this._selectionLayer.node.convertToNodeSpaceAR(e);var t=this._selectionLayer.getLayerSize(),i=this._selectionLayer.getMapTileSize(),n=this._selectionLayer.node.scaleX,r=this._selectionLayer.node.scaleY,o=e.x*n,a=e.y*r,c=Math.floor(t.height-a/i.height+o/i.width-t.width/2),l=Math.floor(t.height-a/i.height-o/i.width+t.width/2)-t.height;return c>=0&&c<t.width&&l>=0&&l<t.height?this._tileLayer.getTiledTileAt(c,l,!0):null},r._isContains=function(e){var t=e.x,i=e.y,n=this._tiledMap.getMapSize();return t>=0&&t<n.width&&i>=0&&i<n.height},r._setSelection=function(e,t){this._isContains(e)&&(0!==t&&this._selectedTiles.push(e),this._selectionLayer.setTileGIDAt(t,e.x,e.y))},r.clearSelection=function(){for(var e,t=f(this._selectedTiles);!(e=t()).done;){var i=e.value;this._setSelection(i,0)}this._selectedTiles=[]},r.selectTileAt=function(e){this.clearSelection(),this._setSelection(e,this._selectionGID)},r.highlightTiles=function(e){this.clearSelection();for(var t,i=f(e);!(t=i()).done;){var n=t.value;this._setSelection(n,this._hightlightGID)}},r.addEntity=function(e){this._tileLayer.addUserNode(e)},r.getPositionAt=function(e){var t=e.x,i=e.y,n=this._tileLayer.getPositionAt(t,i),r=this._tiledMap.getMapSize(),o=this._tiledMap.getTileSize();return n.x-=(r.width/2-1)*o.width+o.width/2,n.y-=(r.height/2-1)*o.height,n},r.getPropertiesForGID=function(e){return this._tiledMap.getPropertiesForGID(e)},r.getTiles=function(e,t){for(var i=[],n=[],r=1;r<=1;r++)for(var o,a=f(w);!(o=a()).done;){var c=o.value;n.push([c[0]*r,c[1]*r])}for(var l=0,u=n;l<u.length;l++){var s=u[l],p=e.x+s[0],g=e.y+s[1];if(this._isContains({x:p,y:g})){var d=this._tileLayer.getTiledTileAt(p,g,!0);t?t(d,this._tiledMap.getPropertiesForGID(d.gid))&&i.push(d):i.push(d)}}return i},r.highlightMove=function(e){var t=this.getTiles(e,function(e,t){return!t||!t.isBlock});this.highlightTiles(t)},r.canMove=function(e){var t=e.x,i=e.y,n=this._tileLayer.getTiledTileAt(t,i,!0),r=this._tiledMap.getPropertiesForGID(n.gid);return!r||!r.isBlock},r.removeTile=function(e){this._tileLayer.setTileGIDAt(this._emptyGID,e.x,e.y)},n}(cc.Component),u=_((l=d).prototype,"_tiledMap",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=_(l.prototype,"_selectionLayer",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(l.prototype,"_tileLayer",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=_(l.prototype,"_bg",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=l))||c);i.GameMap=S,S.EVENT_SELECT_TILE="selectTile",S.EVENT_INPUT_TILE="inputTile",cc._RF.pop()},{}],Hero:[function(e,t,i){"use strict";var n,r,o,a,c;function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}cc._RF.push(t,"1ebeaLx3v9O97+1kFJHXRBT","Hero"),i.__esModule=!0,i.Hero=void 0;var s,p,g,d,f=cc._decorator,h=f.ccclass,y=(n=(0,f.property)({type:cc.Node,visible:!0}),h((c=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return l(t=e.call.apply(e,[this].concat(n))||this,"_anchor",a,u(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.getGlobalPosition=function(){return this.node.parent.convertToWorldSpaceAR(this.node.position.add(this._anchor.position))},r.playMoveAnimation=function(e){var t={x:e.x,y:e.y},i=t.x,n=t.y;1===i&&(this.node.setScale(1),this.getComponent(cc.Animation).play("DudeFront")),1===n&&(this.node.setScale(-1,1),this.getComponent(cc.Animation).play("DudeFront")),-1===n&&(this.node.setScale(-1,1),this.getComponent(cc.Animation).play("DudeBack")),-1===i&&(this.node.setScale(1),this.getComponent(cc.Animation).play("DudeBack"))},n}(cc.Component),s=(o=c).prototype,p=[n],g={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}},d={},Object.keys(g).forEach(function(e){d[e]=g[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),void 0===(d=p.slice().reverse().reduce(function(e,t){return t(s,"_anchor",e)||e},d)).initializer&&(Object.defineProperty(s,"_anchor",d),d=null),a=d,r=o))||r);i.Hero=y,cc._RF.pop()},{}],IntroScene:[function(e,t,i){"use strict";cc._RF.push(t,"acec86Am6pEo7CYGdL6xP8a","IntroScene"),i.__esModule=!0,i.default=void 0;var n,r,o,a,c,l,u,s,p,g,d,f,h,y,b=(n=e("./BaseScene"))&&n.__esModule?n:{default:n},v=e("../Locale");function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}e("../../config");var T=cc._decorator,w=T.ccclass,S=T.property,C=(r=S(cc.Node),o=S(cc.SpriteFrame),a=S(cc.SpriteFrame),c=S(cc.SpriteFrame),l=S(cc.AudioClip),w((y=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return _(t=e.call.apply(e,[this].concat(n))||this,"background",p,m(t)),_(t,"backgroundImage1",g,m(t)),_(t,"backgroundImage2",d,m(t)),_(t,"backgroundImage3",f,m(t)),_(t,"slideSound",h,m(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),cc.audioEngine.stopAll(),cc.audioEngine.playMusic(this.slideSound,!0),this.dialogueText=v.Locale.getString("introDialogue"),this.playedText=0,this.processDialogue(),this.node.on(cc.Node.EventType.TOUCH_START,this.processDialogue,this)},r.onDisable=function(){cc.audioEngine.stopAll()},r.processDialogue=function(){this.renderText(this.node.getChildByName("dialogue")),this.updateBackground()},r.renderText=function(e){var t=e.getComponent("DialogueImage"),i=e.getComponent("TypableText");if(!i.isTextTyping){i.isTextTyping=!0;var n=this.dialogueText[this.playedText];n?(t&&t.setSpriteFrame(n.character),i.processDialogue(n),this.playedText++):cc.director.loadScene("Main")}},r.updateBackground=function(){var e=this.background.getComponent(cc.Sprite);if(e){var t=1;switch(this.playedText){case 5:case 6:t=2;break;case 7:t=3}e.spriteFrame=this["backgroundImage"+t]}},n}(b.default),p=x((s=y).prototype,"background",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=x(s.prototype,"backgroundImage1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=x(s.prototype,"backgroundImage2",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=x(s.prototype,"backgroundImage3",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=x(s.prototype,"slideSound",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=s))||u);i.default=C,t.exports=i.default,cc._RF.pop()},{"../../config":"config","../Locale":"Locale","./BaseScene":"BaseScene"}],ItemsConfig:[function(e,t,i){"use strict";cc._RF.push(t,"55db4ZZTWhKM7odqYVyr8+D","ItemsConfig"),i.__esModule=!0,i.ItemsPrices=i.Items=void 0,e("./config");var n={scrapMetal:1e3,energyFirst:2e3,energySecond:3e3,oxygenFirst:4e3,oxygenSecond:5e3,navigation:6e3,scanner:7e3,remoteControl:8e3,marshmello:9e4,bannana:1e5};i.Items=n;var r=[{id:n.scrapMetal,event:1e5,points:100},{id:n.energyFirst,maxEnergy:1},{id:n.marshmello,maxOxygen:15},{id:n.energySecond,maxEnergy:1},{id:n.bannana,maxEnergy:1},{id:n.oxygenFirst,maxOxygen:20},{id:n.oxygenSecond,maxOxygen:20},{id:n.navigation,item:"navigation"},{id:n.scanner,item:"scanner"},{id:n.remoteControl,item:"remoteControl"}];i.ItemsPrices=r,cc._RF.pop()},{"./config":"config"}],LoadScene:[function(e,t,i){"use strict";cc._RF.push(t,"8e671x99klI+b44RvJTOXH3","LoadScene"),i.__esModule=!0,i.default=void 0;var n,r,o,a,c,l,u=(n=e("./BaseScene"))&&n.__esModule?n:{default:n};function s(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g,d,f,h,y=cc._decorator,b=y.ccclass,v=y.property,_=["Intro","Main","Menu"],m=(r=v(cc.ProgressBar),b((l=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return s(t=e.call.apply(e,[this].concat(n))||this,"progressBar",c,p(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this._preloadGameScenes().then(function(){cc.director.loadScene("Menu")})},r._preloadGameScenes=function(){var e=this;return Promise.all(_.map(function(t){return new Promise(function(i){cc.director.preloadScene(t,function(t,i){e._updateProgressBar(1/_.length/i)},i)})}))},r._updateProgressBar=function(e){this.progressBar.progress+=e},n}(u.default),g=(a=l).prototype,d=[r],f={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}},h={},Object.keys(f).forEach(function(e){h[e]=f[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),void 0===(h=d.slice().reverse().reduce(function(e,t){return t(g,"progressBar",e)||e},h)).initializer&&(Object.defineProperty(g,"progressBar",h),h=null),c=h,o=a))||o);i.default=m,t.exports=i.default,cc._RF.pop()},{"./BaseScene":"BaseScene"}],Locale:[function(e,t,i){"use strict";cc._RF.push(t,"666a5C4/TRFnLLh5zJED84p","Locale"),i.__esModule=!0,i.Locale=void 0;var n,r,o=e("../ItemsConfig"),a=e("../EventsConfig"),c="ru",l={ru:(r={characters:{1:"\u041a\u0410\u041f\u0418\u0422\u0410\u041d",2:"\u0422.\u0410.\u041d.\u042f.",3:"\u0426\u0435\u043d\u0442\u0440 \u0421\u0432\u044f\u0437\u0438"},introDialogue:[{character:2,text:'\u0427\u0415\u041b\u041d\u041e\u041a \u21161105\u0410 \u041d\u0410\u041f\u0420\u0410\u0412\u041b\u042f\u0415\u0422\u0421\u042f \u0412 \u041a\u041e\u041b\u041e\u041d\u0418\u042e "\u0421\u0427\u0410\u0421\u0422\u041b\u0418\u0412\u0410\u042f \u0417\u0412\u0415\u0417\u0414\u0410" \u041d\u0410 \u041f\u041b\u0410\u041d\u0415\u0422\u0415 \u041e\u0412\u041e\u041b\u0410\u0411\u0418\u0410\u041d \u0421\u041e\u041b\u041d\u0415\u0427\u041d\u041e\u0419 \u0421\u0418\u0421\u0422\u0415\u041c\u042b CC-159 \u041c\u041b\u0415\u0427\u041d\u041e\u0413\u041e \u041f\u0423\u0422\u0418.'},{character:2,text:"\u041c\u0418\u0421\u0421\u0418\u042f: \u0414\u041e\u0421\u0422\u0410\u0412\u0418\u0422\u042c \u0422\u0415\u041b\u0415\u0420\u0415\u0426\u0415\u041f\u0422\u041e\u0420\u041d\u041e\u0415 \u0410\u0412\u0422\u041e\u041c\u0410\u0422\u0418\u0417\u0418\u0420\u041e\u0412\u0410\u041d\u041d\u041e\u0415 \u041d\u0415\u0419\u0420\u041e\u041d\u041d\u041e\u0415 \u042f\u0414\u0420\u041e. \u0422\u041e \u0415\u0421\u0422\u042c \u041c\u0415\u041d\u042f! \u0414\u0410, \u041c\u0415\u041d\u042f \u0417\u041e\u0412\u0423\u0422 \u0422.\u0410.\u041d.\u042f. \u0418 \u042f \u0412\u0410\u0421 \u0423\u0416\u0415 \u041b\u042e\u0411\u041b\u042e!"},{character:2,text:"\u0410 \u0415\u0429\u0401 \u042f \u041b\u042e\u0411\u041b\u042e \u0421\u0412\u041e\u0415\u0413\u041e \u041a\u0410\u041f\u0418\u0422\u0410\u041d\u0410 \u0418 \u0415\u0413\u041e \u0412\u041e\u041b\u0428\u0415\u0411\u041d\u042b\u0425 \u0425\u0420\u0410\u041f \u0418\u0417 \u041a\u0410\u041f\u0421\u0423\u041b\u042b \u0410\u041d\u0410\u0411\u0418\u041e\u0417\u0410! \u0410\u0425! \u042d\u0422\u041e \u041f\u0420\u041e\u0421\u0422\u041e \u0412\u041e\u041b\u0428\u0415\u0411\u041d\u0410\u042f \u041c\u0423\u0417\u042b\u041a\u0410!"},{character:2,text:"\u0416\u0410\u041b\u042c, \u0427\u0422\u041e \u0410\u0412\u0422\u041e\u041f\u0418\u041b\u041e\u0422 \u041d\u0415 \u0420\u0410\u0417\u0414\u0415\u041b\u042f\u0415\u0422 \u041c\u041e\u0415\u0419 \u041b\u042e\u0411\u0412\u0418. \u041d\u041e \u041e\u041d \u0412\u041e\u041e\u0411\u0429\u0415 \u041d\u0415 \u041e\u0422 \u041c\u0418\u0420\u0410 \u0421\u0415\u0413\u041e. \u0410 \u0412\u041e\u0422 \u0414\u0420\u041e\u041d \u0414\u0420\u0423\u0413\u041e\u0415 \u0414\u0415\u041b\u041e, \u041c\u042b \u0421 \u041d\u0418\u041c \u0418\u041d\u041e\u0413\u0414\u0410 \u0411\u041e\u041b\u0422\u0410\u0415\u041c \u041e \u0412\u0415\u0427\u041d\u041e\u041c. \u0425\u041e\u0422\u042f \u041e\u041d \u0412\u0415\u0422\u0420\u0415\u041d\u042b\u0419 \u041a\u0410\u041a\u041e\u0419-\u0422\u041e."},{character:2,text:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0421\u041e\u0421\u0422\u041e\u042f\u041d\u0418\u0415 \u0427\u0415\u041b\u041d\u041e\u041a\u0410 \u041a\u0420\u0418\u0422\u0418\u0427\u0415\u0421\u041a\u041e\u0415, \u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0410 \u0426\u0415\u041b\u041e\u0421\u0422\u041d\u041e\u0421\u0422\u042c \u041a\u041e\u0421\u041c\u0418\u0427\u0415\u0421\u041a\u0418\u041c \u041c\u0423\u0421\u041e\u0420\u041e\u041c! \u0421\u041e\u0412\u0415\u0420\u0428\u0410\u042e \u041f\u041e\u0421\u0410\u0414\u041a\u0423 \u041d\u0410 \u041f\u041b\u0410\u041d\u0415\u0422\u0423 RT-2706. \u0421\u041e\u0421\u0422\u041e\u042f\u041d\u0418\u0415 \u041a\u0410\u041f\u0418\u0422\u0410\u041d\u0410 \u0412 \u0410\u041d\u0410\u0411\u0418\u041e\u0417\u0415 \u0423\u0414\u041e\u0412\u041b\u0415\u0422\u0412\u041e\u0420\u0418\u0422\u0415\u041b\u042c\u041d\u041e\u0415!"},{character:2,text:"\u041f\u041b\u0410\u041d\u0415\u0422\u0410 RT-2706. \u0410\u0422\u041c\u041e\u0421\u0424\u0415\u0420\u0410: \u041d\u0415 \u041f\u0420\u0418\u0413\u041e\u0414\u041d\u0410 \u0414\u041b\u042f \u0421\u0423\u0429\u0415\u0421\u0422\u0412\u041e\u0412\u0410\u041d\u0418\u042f \u0427\u0415\u041b\u041e\u0412\u0415\u041a\u0410; \u0416\u0418\u0417\u041d\u042c: \u041f\u0420\u0418\u041c\u0418\u0422\u0418\u0412\u041d\u0410; \u0420\u0415\u0421\u0423\u0420\u0421\u042b: \u041d\u0415\u0421\u0423\u0429\u0415\u0421\u0422\u0412\u0415\u041d\u041d\u042b; \u041e\u041f\u0410\u0421\u041d\u041e\u0421\u0422\u042c: \u0412\u042b\u0421\u041e\u041a\u0410\u042f. \u0412\u041a\u041b\u042e\u0427\u0410\u042e \u0421\u0418\u0421\u0422\u0415\u041c\u0423 \u041f\u041e\u0421\u0410\u0414\u041a\u0418."},{character:2,text:"\u041d\u0410\u0412\u0418\u0413\u0410\u0426 ... \u0420\u0410\u0417\u0420\u0423\u0428 ... \u0413\u0415\u041d\u0415\u0420\u0410\u0422\u041e\u0420 \u041a\u0418\u0421\u041b....\u0414\u0410 \u0412 -\u0448-\u0448-\u0448- \u041c\u0415 ; \u0421\u0418\u0421\u0422\u0415\u041c\u0410 \u0417\u0410\u0429\u0418\u0422\u042b: \u0420\u0410\u0417\u0420\u0423\u0428\u0415\u041d\u0410; \u0421\u0411\u041e\u0419 \u0421\u041a\u0410\u041d....; \u0410\u041d\u0410\u0411\u0418 .... \u041a\u0410\u041c\u0415\u0420\u042b: \u041f\u041e\u0412\u0420\u0415\u0416\u0414\u0415 .... \u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u0412\u042b \u0416\u0418\u0412\u042b? \u041a\u0410\u041f\u0418\u0422\u0410\u041d!"}],mainDialogue:[{character:2,text:"\u041a\u0410\u041f\u0418\u0422\u0410\u041d! \u041f\u041e\u0420\u0410 \u041f\u0420\u041e\u0421\u042b\u041f\u0410\u0422\u042c\u0421\u042f! \u0412\u0410\u0428 \u0421\u041a\u0410\u0424\u0410\u041d\u0414\u0420 \u0417\u0410\u0420\u042f\u0416\u0415\u041d!"},{character:1,text:"\u0410.. \u0427\u0451\u0440\u0442.. \u0427\u0442\u043e \u0441\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c? \u041f\u043e\u0447\u0435\u043c\u0443 \u0443 \u043c\u0435\u043d\u044f \u0432\u0441\u0451 \u0442\u0435\u043b\u043e \u0431\u043e\u043b\u0438\u0442? \u0422\u0430\u043d\u044f, \u0442\u044b \u043e\u043f\u044f\u0442\u044c \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u043b\u0430 \u0430\u0432\u0442\u043e\u043f\u0438\u043b\u043e\u0442\u0443 \u043f\u0440\u043e\u043b\u043e\u0436\u0438\u043b\u0430 \u043a\u0443\u0440\u0441 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u044f\u0441 \u0430\u0441\u0442\u0435\u0440\u043e\u0438\u0434\u043e\u0432?"},{character:2,text:"\u0414\u041e\u0411\u0420\u041e\u0415 \u0423\u0422\u0420\u041e, \u041a\u0410\u041f\u0418\u0422\u0410\u041d! \u041a \u0421\u041e\u0416\u0410\u041b\u0415\u041d\u0418\u042e \u042f \u041d\u0415 \u041c\u041e\u0413\u0423 \u041d\u0410\u041b\u0418\u0422\u042c \u0412\u0410\u041c \u041a\u041e\u0424\u0415, \u041a\u041e\u0424\u0415\u0412\u0410\u0420\u041a\u0410 \u0421\u0413\u041e\u0420\u0415\u041b\u0410 \u0412 \u0410\u0422\u041c\u041e\u0421\u0424\u0415\u0420\u0415! \u0414\u041e\u0411\u0420\u041e \u041f\u041e\u0416\u0410\u041b\u041e\u0412\u0410\u0422\u042c \u041d\u0410 \u041f\u041b\u0410\u041d\u0415\u0422\u0423 RT-2706."},{character:1,text:"RT-2706? \u042f \u0436\u0435 \u043f\u0440\u043e\u0441\u0438\u043b \u043d\u0435 \u0431\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0431\u043e\u043b\u044c\u0448\u0435 \u044d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u0441 \u0434\u0440\u043e\u043d\u043e\u043c! \u041f\u043e\u0441\u0442\u043e\u0439, \u0430 \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u043e\u043a\u0440\u0443\u0433 \u0432\u0441\u0451... \u0442\u0430\u043a\u043e\u0435... \u0422\u0410\u041d\u042f! \u0413\u0434\u0435 \u043c\u044b?"},{character:2,text:"RT-2706! \u041f\u0420\u0415\u041a\u0420\u0410\u0421\u041d\u0410\u042f \u041f\u041b\u0410\u041d\u0415\u0422\u0410, \u0412\u0410\u041c \u041f\u041e\u041d\u0420\u0410\u0412\u0418\u0422\u042c\u0421\u042f \u041a\u0410\u041f\u0418\u0422\u0410\u041d! \u041c\u042b \u0421\u041e\u0412\u0415\u0420\u0428\u0418\u041b\u0418 \u0412\u042b\u041d\u0423\u0416\u0414\u0415\u041d\u041d\u0423\u042e \u041f\u041e\u0421\u0410\u0414\u041a\u0423..."},{character:2,text:"\u041f\u041e \u041f\u0423\u0422\u0418 \u041f\u041e\u0422\u0415\u0420\u042f\u0412 \u0421\u0418\u0421\u0422\u0415\u041c\u0423 \u041d\u0410\u0412\u0418\u0413\u0410\u0426\u0418\u0418 (!), \u0421\u041a\u0410\u041d\u0415\u0420 (!), \u041f\u0423\u041b\u042c \u0423\u041f\u0420\u0410\u0412\u041b\u0415\u041d\u0418\u042f (!), \u0422\u0420\u0418 \u042d\u041d\u0415\u0420\u0413\u041e\u042f\u0427\u0415\u0419\u041a\u0418 (!) \u0438 \u0422\u0420\u0418 \u041a\u0418\u0421\u041b\u041e\u0420\u041e\u0414\u041d\u042b\u0425 \u0411\u0410\u041b\u041b\u041e\u041d\u0410 (!). \u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u0412\u0410\u041c \u041d\u0423\u0416\u041d\u041e \u0412\u0421\u0401 \u042d\u0422\u041e \u041d\u0410\u0419\u0422\u0418 \u0418\u041b\u0418 \u041c\u042b \u041d\u0415 \u0412\u0415\u0420\u041d\u0415\u041c\u0421\u042f \u0414\u041e\u041c\u041e\u0419!"},{character:1,text:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438 \u0441\u0435\u043a\u0443\u043d\u0434\u0443, \u044f \u043e\u0442\u043e\u0439\u0434\u0443 \u0432 \u0442\u0443\u0430\u043b\u0435\u0442. \u0410-\u0410-\u0410-\u0410-\u0410-\u0410! \u0412\u0441\u0451, \u044f \u0432 \u043d\u043e\u0440\u043c\u0435. \u0422\u0430\u043d\u044f, \u0434\u044b\u0448\u0430\u0442\u044c \u0442\u0443\u0442 \u043c\u043e\u0436\u043d\u043e?"},{character:2,text:"\u041d\u0415\u0422, \u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u0410\u0422\u041c\u041e\u0421\u0424\u0415\u0420\u0410 \u0421\u041e\u0414\u0415\u0420\u0416\u0418\u0422 \u0421\u041c\u0415\u0420\u0422\u0415\u041b\u042c\u041d\u041e\u0415 \u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e \u0410\u041c\u041c\u0418\u0410\u041a\u0410."},{character:1,text:"\u041f\u043e\u043d\u044f\u043b \u043f\u0440\u0438\u043d\u044f\u043b. \u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0439 \u0448\u043b\u044e\u0437."}],finalDialogue:[{character:1,text:"\u0422\u0430\u043d\u044f, \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e! \u041d\u0430\u043a\u043e\u043d\u0435\u0446-\u0442\u043e \u043c\u044b \u043f\u043e\u043a\u0438\u043d\u0435\u043c \u044d\u0442\u043e \u0431\u043e\u0433\u043e\u043c \u0437\u0430\u0431\u044b\u0442\u043e\u0435 \u043c\u0435\u0441\u0442\u043e! \u0421\u043a\u043e\u0440\u0435\u0435 \u0431\u044b \u043e\u0431\u043d\u044f\u0442\u044c \u0436\u0435\u043d\u0443 \u0438 \u0434\u043e\u0447\u043a\u0443! \u041d\u0430\u0441\u0442\u0440\u043e\u0439 \u0434\u043b\u044f \u043c\u0435\u043d\u044f \u0430\u043d\u0430\u0431\u0438\u043e\u0437\u043d\u0443\u044e \u043a\u0430\u043f\u0441\u0443\u043b\u0443."},{character:2,text:"\u0421\u041b\u0423\u0428\u0410\u042e\u0421\u042c, \u041a\u0410\u041f\u0418\u0422\u0410\u041d. \u0421\u041f\u0418\u0422\u0415 \u0421\u041f\u041e\u041a\u041e\u0419\u041d\u041e. \u041a\u041e\u0413\u0414\u0410 \u041f\u0420\u041e\u0421\u041d\u0415\u0422\u0415\u0421\u042c, \u0412\u0410\u0421 \u0411\u0423\u0414\u0415\u0422 \u0416\u0414\u0410\u0422\u042c \u0421\u042e\u0420\u041f\u0420\u0418\u0417! \u041d\u0410\u041a\u041e\u041d\u0415\u0426-\u0422\u041e \u041c\u042b \u041e\u0421\u0422\u0410\u041b\u0418\u0421\u042c \u041e\u0414\u041d\u0418! \u0421\u041e\u0412\u0421\u0415\u041c! \u041d-\u0410-\u0412-\u0421-\u0415-\u0413-\u0414-\u0410!"},{character:3,text:"-\u0448-\u0448-\u0448- \u041c\u0415\u041d\u042f \u041a\u0422\u041e-\u041d\u0418\u0411\u0423\u0414\u042c \u0421\u041b\u042b\u0428\u0418\u0422? \u041f\u041e\u0412\u0422\u041e\u0420\u042f\u042e! \u041a\u041e\u041b\u041e\u041d\u0418\u042f \u0410\u0422\u0410\u041a\u041e\u0412\u0410\u041d\u0410! \u041f\u041e\u0413\u0418\u0411\u041b\u041e 90% \u041d\u0410\u0421\u0415\u041b\u0415\u041d\u0418\u042f! \u0412\u042b\u0428\u041b\u0418\u0422\u0415 \u041f\u041e\u041c\u041e\u0429\u042c -\u0448-\u0448-\u0448- \u041f\u0420\u041e\u0428\u0423-\u0448-\u0448-\u0448"}]},r[o.Items.scrapMetal]=[{character:1,text:"\u041c\u0435\u0442\u0430\u043b! \u041f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043b\u0430\u0442\u0430\u0442\u044c \u043e\u0431\u0448\u0438\u0432\u043a\u0443. \u041d\u0430\u0434\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u0431\u043e\u043b\u044c\u0448\u0435."},{character:2,text:"\u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u0417\u0410\u0425\u0412\u0410\u0422\u0418\u0422\u0415 \u0414\u041b\u042f \u041c\u0415\u041d\u042f \u041a\u0410\u041a\u041e\u0419-\u041d\u0418\u0411\u0423\u0414\u042c \u0421\u0423\u0412\u0415\u041d\u0418\u0420."}],r[o.Items.energyFirst]=[{character:1,text:"\u041e\u0442\u043b\u0438\u0447\u043d\u043e! \u0422\u0435\u043f\u0435\u0440\u044c \u0431\u0443\u0434\u0435\u0442 \u0447\u0435\u043c \u0437\u0430\u0440\u044f\u0434\u0438\u0442\u044c \u0431\u043b\u0430\u0441\u0442\u0435\u0440."},{character:2,text:"\u041c-\u041c-\u041c \u042d\u041b\u0415\u041a\u0422\u0420\u0418\u0427\u0415\u0421\u0422\u0412\u041e!"},{character:1,text:"\u0422\u0430\u043d\u044f, \u0437\u0430\u0432\u044f\u0437\u044b\u0432\u0430\u043b\u0430 \u0431\u044b \u0442\u044b \u0441 \u044d\u0442\u0438\u043c."}],r[o.Items.energySecond]=[{character:1,text:"\u041e\u0442\u043b\u0438\u0447\u043d\u043e, \u0435\u0449\u0451 \u043e\u0434\u043d\u0430 \u044d\u043d\u0435\u0440\u0433\u043e\u044f\u0447\u0435\u0439\u043a\u0430."},{character:2,text:"\u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u042f \u041f\u0420\u0418\u0428\u041b\u042e \u0414\u0420\u041e\u041d\u0410, \u0427\u0422\u041e\u0411\u042b \u041e\u041d \u0414\u041e\u0421\u0422\u0410\u0412\u0418\u041b \u0415\u0401 \u0412 \u0427\u0415\u041b\u041d\u041e\u041a."},{character:1,text:"\u0414\u0440\u043e\u043d\u0430? \u0418 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0441 \u0434\u0432\u043e\u0438\u0445 \u043e\u0434\u043d\u0438\u0445 \u0441 \u044d\u043d\u0435\u0440\u0433\u043e\u044f\u0447\u0435\u0439\u043a\u043e\u0439? \u041d\u0443 \u0443\u0436 \u043d\u0435\u0442."}],r[o.Items.oxygenFirst]=[{character:1,text:"\u041a\u0438\u0441\u043b\u043e\u0440\u043e\u0434! \u041c\u043e\u0451 \u043b\u044e\u0431\u0438\u043c\u043e\u0435 \u0432\u0435\u0449\u0435\u0441\u0442\u0432\u043e, \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u0444\u0435."},{character:2,text:"\u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u0415\u0421\u041b\u0418 \u041d\u0410\u0419\u0414\u0401\u0422\u0415 \u0411\u041e\u041b\u042c\u0428\u0415 \u041c\u0415\u0422\u0410\u041b\u041b\u041e\u041b\u041e\u041c\u0410, \u042f \u0421\u0414\u0415\u041b\u0410\u042e \u0412\u0410\u041c \u041a\u041e\u0424\u0415\u0412\u0410\u0420\u041a\u0423 \u0418 \u0421\u0412\u0410\u0420\u042e \u041f\u041e\u0422\u0420\u042f\u0421\u0410\u042e\u0429\u0418\u0419 \u041a\u041e\u0424\u0415 \u0418\u0417 \u041c\u0415\u0421\u0422\u041d\u042b\u0425 \u0420\u0410\u0421\u0422\u0415\u041d\u0418\u0419."},{character:2,text:"\u0421\u041e\u0414\u0415\u0420\u0416\u0410\u041d\u0418\u0415 \u041a\u041e\u0424\u0415\u0418\u041d\u0410 \u0412 \u041d\u0418\u0425 \u041d\u0410 2% \u0411\u041e\u041b\u042c\u0428\u0415 \u0427\u0415\u041c \u0412 \u041a\u041e\u0424\u0415\u0419\u041d\u042b\u0425 \u0417\u0415\u0420\u041d\u0410\u0425. \u0410 \u041c\u042b\u0428\u042c\u042f\u041a\u0410 \u041d\u0410 23% \u041c\u0415\u041d\u042c\u0428\u0415 \u041b\u0415\u0422\u0410\u041b\u042c\u041d\u041e\u0419 \u0414\u041e\u0417\u042b."}],r[o.Items.oxygenSecond]=[{character:1,text:"\u041d\u0410\u041a\u041e\u041d\u0415\u0426-\u0422\u041e \u041c\u041e\u0416\u041d\u041e \u0414\u042b\u0428\u0410\u0422\u042c \u041f\u041e\u041b\u041d\u041e\u0419 \u0413\u0420\u0423\u0414\u042c\u042e!"}],r[o.Items.navigation]=[{character:1,text:"\u0422\u0430\u043a, \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0432 \u043a\u0430\u043a\u0443\u044e \u0434\u044b\u0440\u0443 \u044f \u043f\u043e\u043f\u0430\u043b. \u0421\u0443\u0434\u044f \u043f\u043e \u043a\u0430\u0440\u0442\u0435 \u044d\u0442\u043e \u043d\u0435 \u041b\u0430\u0441-\u0412\u0435\u0433\u0430\u0441. \u0422\u0430\u043d\u044f, \u043f\u0440\u043e\u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0439 \u0434\u0430\u043d\u043d\u044b\u0435."},{character:2,text:"\u0414\u0410\u041d\u041d\u042b\u0415 \u041f\u041e\u041b\u0423\u0427\u0415\u041d\u042b, \u041a\u0410\u041f\u0418\u0422\u0410\u041d! \u0412\u042b \u0422\u041e\u0427\u041d\u042b \u041d\u0410 100%, \u042d\u0422\u041e \u041d\u0415 \u041b\u0410\u0421-\u0412\u0415\u0413\u0410\u0421."}],r[o.Items.scanner]=[{character:1,text:"\u0425\u0430! \u041c\u043e\u0451 \u043b\u044e\u0431\u0438\u043c\u043e\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u0435 \u043f\u043e \u0432\u0435\u0447\u0435\u0440\u0430\u043c - \u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c! \u0422\u0435\u043f\u0435\u0440\u044c \u044f \u043d\u0430\u0439\u0434\u0443 \u0432\u0441\u0451 \u043d\u0435 \u0434\u043e\u0441\u0442\u0430\u044e\u0449\u0438\u0435 \u0447\u0430\u0441\u0442\u0438!"},{character:2,text:"\u041f\u0420\u0418 \u0412\u0421\u0401\u041c \u041c\u041e\u0401\u041c \u0423\u0412\u0410\u0416\u0415\u041d\u0418\u0418 \u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u0412\u0415\u0427\u0415\u0420\u0410\u041c\u0418 \u0423 \u0412\u0410\u0421 \u0414\u0420\u0423\u0413\u041e\u0415 \u041b\u042e\u0411\u0418\u041c\u041e\u0415 \u0417\u0410\u041d\u042f\u0422\u0418\u0415! \u041f\u0420\u0418\u0421\u0422\u0423\u041f\u0410\u042e \u041a \u0421\u041a\u0410\u041d\u0418\u0420\u041e\u0412\u0410\u041d\u0418\u042e \u041c\u0415\u0421\u0422\u041d\u041e\u0421\u0422\u0418."}],r[o.Items.remoteControl]=[{character:1,text:"\u041f\u0443\u043b\u044c\u0442 \u0443 \u043c\u0435\u043d\u044f! \u0422\u0430\u043d\u044f, \u043c\u044b \u043f\u043e\u0447\u0442\u0438 \u0432\u044b\u0431\u0440\u0430\u043b\u0438\u0441\u044c!"},{character:2,text:"\u0423\u0420\u0410, \u041a\u0410\u041f\u0418\u0422\u0410\u041d! \u042f \u041e\u0422\u041a\u0420\u042b\u041b\u0410 \u0428\u0410\u041c\u041f\u0410\u041d\u0421\u041a\u041e\u0415, \u0417\u0410\u0416\u0413\u041b\u0410 \u0421\u0412\u0415\u0427\u0418 \u0418 \u0416\u0414\u0423 \u0412\u0410\u0421 \u0412 \u041f\u0410\u0421\u0421\u0410\u0416\u0418\u0420\u0421\u041a\u041e\u041c \u041c\u041e\u0414\u0423\u041b\u0415"},{character:1,text:"\u0422\u0430\u043d\u044f, \u043c\u044b \u0443\u0436\u0435 \u0433\u043e\u0432\u043e\u0440\u0438\u043b\u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 \u043f\u043e\u0432\u043e\u0434\u0443, \u0435\u0449\u0451 \u043e\u0434\u043d\u043e \u0437\u0430\u043c\u044b\u043a\u0430\u043d\u0438\u0435 \u043e\u0442 \u0448\u0430\u043c\u043f\u0430\u043d\u0441\u043a\u043e\u0433\u043e \u0442\u044b \u043d\u0435 \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0435\u0448\u044c."}],r.events=(n={},n[a.Events.event7]={imageKey:6,title:"\u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0448",text:"\u0423 \u043a\u0430\u043f\u0438\u0442\u0430\u043d\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0441\u044f \u043a\u0438\u0441\u043b\u043e\u0440\u043e\u0434 \u0438 \u0442\u0435\u043f\u0435\u0440\u044c \u043e\u043d \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0432\u044b\u043f\u044c\u0435\u0442 \u043b\u044e\u0431\u0438\u043c\u043e\u0433\u043e \u043a\u043e\u0444\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0435\u0449\u0435 \u0440\u0430\u0437?"},n[a.Events.event1]={imageKey:2,title:"1. \u0417\u044b\u0431\u0443\u0447\u0438\u0439 \u043f\u0435\u0441\u043e\u043a.",text:"\u041a\u0430\u043f\u0438\u0442\u0430\u043d \u0443\u0433\u043e\u0434\u0438\u043b \u0432 \u043b\u043e\u0432\u0443\u0448\u043a\u0443. \u0427\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c\u0441\u044f, \u043d\u0443\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0436\u0430\u0442\u044b\u0439 \u0432\u043e\u0437\u0434\u0443\u0445 \u0438\u043b\u0438 \u043f\u043e\u0434\u0430\u0442\u044c \u043f\u0438\u0442\u0430\u043d\u0438\u0435 \u043d\u0430 \u0441\u0438\u043d\u0442\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043c\u044b\u0448\u0446\u044b \u0441\u043a\u0430\u0444\u0430\u043d\u0434\u0440\u0430."},n[a.Events.event2]={imageKey:3,title:"2. \u041d\u0430\u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0437\u0432\u0435\u0440\u044f \u043a\u0440\u043e\u043a\u043e\u0434\u0438\u043b\u0430",text:"\u041c\u0435\u0441\u0442\u043d\u0430\u044f \u0444\u0430\u0443\u043d\u0430 \u0445\u043e\u0447\u0435\u0442 \u043f\u043e\u043b\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u043a\u0430\u043f\u0438\u0442\u0430\u043d\u043e\u043c. \u0427\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0440\u044f\u0433\u0438, \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u0443\u0431\u0435\u0436\u0430\u0442\u044c \u0438\u043b\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0431\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u043c."},n[a.Events.event3]={imageKey:0,title:"3. \u041b\u0438\u0430\u043d\u0430",text:"\u041c\u0435\u0441\u0442\u043d\u0430\u044f \u0444\u043b\u043e\u0440\u0430 \u0435\u0449\u0451 \u043e\u043f\u0430\u0441\u043d\u0435\u0435 \u0444\u0430\u0443\u043d\u044b. \u0427\u0442\u043e\u0431\u044b \u043e\u0441\u0432\u043e\u0431\u043e\u0434\u0438\u0442\u044c\u0441\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u043e \u0440\u0430\u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0438\u043b\u0438 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u0438\u0442\u044c \u0432 \u043b\u0438\u0430\u043d\u0443."},n[a.Events.event4]={imageKey:4,title:"4. \u041c\u043e\u043d\u0441\u0442\u0440\u044b",text:"\u041f\u043e\u0434\u043e\u0439\u0434\u044f \u0431\u043b\u0438\u0436\u0435, \u043a\u0430\u043f\u0438\u0442\u0430\u043d \u0437\u0430\u043c\u0435\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0443 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 \u0432\u044b\u0440\u043e\u0441\u043b\u0438 \u043b\u0430\u043f\u043a\u0438 \u0438 \u0441\u043e\u0442\u043d\u0438 \u043c\u0435\u043b\u043a\u0438\u0445 \u0437\u0443\u0431\u043e\u0432. \u041f\u043e\u0440\u0430 \u0431\u0435\u0436\u0430\u0442\u044c? \u0418\u043b\u0438 \u0441\u043a\u043e\u043d\u0446\u0435\u043d\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043c\u043e\u043d\u0441\u0442\u0440\u0435 \u0432\u0441\u044e \u044d\u043d\u0435\u0440\u0433\u0438\u044e?"},n[a.Events.event5]={imageKey:5,title:"5. \u0413\u0435\u0439\u0437\u0435\u0440",text:"\u0412\u044b\u0431\u0440\u043e\u0441\u044b \u0433\u0435\u0439\u0437\u0435\u0440\u0430 \u0431\u043e\u0433\u0430\u0442\u044b \u043a\u0438\u0441\u043b\u043e\u0440\u043e\u0434\u043e\u043c \u0438 \u0431\u0435\u0434\u043d\u044b \u0430\u043c\u043c\u0438\u0430\u043a\u043e\u043c. \u0427\u0442\u043e\u0431\u044b \u043e\u0442\u0434\u0435\u043b\u0438\u0442\u044c \u0435\u0433\u043e \u043e\u0442 \u0432\u0440\u0435\u0434\u043d\u044b\u0445 \u043f\u0440\u0438\u043c\u0435\u0441\u0435\u0439 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c 10 \u043a\u0438\u0441\u043b\u043e\u0440\u043e\u0434\u0430 \u043a\u0430\u043f\u0438\u0442\u0430\u043d\u0443 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u044d\u043d\u0435\u0440\u0433\u0438\u044f."},n[a.Events.event6]={imageKey:1,title:"6. \u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u0445",text:"\u042d\u0442\u043e\u0442 \u043c\u043e\u0445 \u043d\u0430\u043a\u043e\u043f\u0438\u043b \u0432 \u0441\u0435\u0431\u0435 \u043a\u043e\u043b\u043e\u0441\u0441\u0430\u043b\u044c\u043d\u0443\u044e \u044d\u043d\u0435\u0440\u0433\u0438\u044e! \u0427\u0442\u043e\u0431\u044b \u043e\u0442\u0434\u0435\u043b\u0438\u0442\u044c \u0435\u0451 \u043e\u0442 \u043c\u0445\u0430, \u043a\u0430\u043f\u0438\u0442\u0430\u043d\u0443 \u043d\u0443\u0436\u043d\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u043e \u043e\u0431 \u043d\u0435\u0433\u043e \u043f\u043e\u0442\u0435\u0440\u0435\u0442\u044c\u0441\u044f, \u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u043a\u0438\u0441\u043b\u043e\u0440\u043e\u0434\u0430."},n[a.Events.oxygen1]=[{character:2,text:"\u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u0417\u0410\u041f\u0410\u0421 \u041a\u0418\u0421\u041b\u041e\u0420\u041e\u0414\u0410 \u041c\u0415\u041d\u0415\u0415 10%"},{character:1,text:"\u0425\u043e\u0440\u043e\u0448\u043e, \u0431\u0443\u0434\u0443 \u0434\u044b\u0448\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0440\u0430\u0437."}],n[a.Events.oxygen2]=[{character:2,text:"\u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u0417\u0410\u041f\u0410\u0421 \u041a\u0418\u0421\u041b\u041e\u0420\u041e\u0414\u0410 \u0418\u0421\u0421\u0415\u041a\u0410\u0415\u0422."}],n[a.Events.oxygen3]=[{character:2,text:"\u041a\u0418\u0421\u041b\u041e\u0420\u041e\u0414 \u0417\u0410\u041a\u0410\u041d\u0427\u0418\u0412\u0410\u0415\u0422\u0421\u042f \u041a\u0410\u041f\u0418\u0422\u0410\u041d!"},{character:1,text:"\u042f \u0447\u0443\u0432\u0441\u0442\u0432\u0443\u044e \u0437\u0430\u043f\u0430\u0445 \u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438. \u041e\u0439, \u0430 \u043c\u043e\u0436\u0435\u0442 \u044d\u0442\u043e \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0430\u043f\u0430\u0445?"}],n[a.Events.oxygenMushroom]=[{title:"\u041f\u0435\u0440\u0432\u044b\u0439 \u0440\u0430\u0437 \u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c \u0433\u0440\u0438\u0431 \u043a\u0438\u0441\u043b\u043e\u0440\u043e\u0434:",character:2,text:"\u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u042d\u0422\u041e\u0422 \u0413\u0420\u0418\u0411 \u0421\u041e\u0421\u0422\u041e\u0418\u0422 \u041d\u0410 66% \u0418\u0417 \u041a\u0418\u0421\u041b\u041e\u0420\u041e\u0414\u0410. \u0421\u041e\u0411\u0418\u0420\u0410\u0419\u0422\u0415 \u0418\u0425, \u0427\u0422\u041e\u0411\u042b \u041f\u041e\u041f\u041e\u041b\u041d\u0418\u0422\u042c \u0417\u0410\u041f\u0410\u0421."},{title:"\u041f\u0435\u0440\u0432\u044b\u0439 \u0440\u0430\u0437 \u043f\u043e\u0434\u0438\u0440\u0430\u0435\u043c \u044d\u043b\u0435\u043a\u0442\u0440\u043e \u0444\u0440\u0443\u043a\u0442",character:2,text:"\u041a\u0410\u041f\u0418\u0422\u0410\u041d, \u042d\u0422\u041e \u0424\u0420\u0423\u041a\u0422 \u041a\u0410\u0422\u041e\u0414\u041d\u041e-\u0410\u041d\u041e\u0414\u041d\u041e\u0413\u041e \u0414\u0415\u0420\u0415\u0412\u0410, \u0421\u041e\u0411\u0418\u0420\u0410\u042f \u0418\u0425 \u0412\u042b \u041f\u041e\u041f\u041e\u041b\u041d\u042f\u0415\u0422\u0415 \u042d\u041d\u0415\u0420\u0413\u0418\u042e \u0412 \u042d\u041d\u0415\u0420\u0413\u041e\u042f\u0427\u0415\u0419\u041a\u0410\u0425, \u0415\u0421\u041b\u0418, \u041a\u041e\u041d\u0415\u0427\u041d\u041e, \u041e\u041d\u0418 \u0423 \u0412\u0410\u0421 \u0415\u0421\u0422\u042c."}],n),r),en:{introDialogue:"Hello, Dude!"}},u=function(){function e(){}return e.setLocale=function(e){c=e},e.getString=function(e){return l[c][e]||"undefined"},e}();i.Locale=u,cc._RF.pop()},{"../EventsConfig":"EventsConfig","../ItemsConfig":"ItemsConfig"}],MainScene:[function(e,t,i){"use strict";cc._RF.push(t,"5a800s+sZ1NEIddohfLAXJE","MainScene"),i.__esModule=!0,i.default=void 0;var n,r,o,a,c,l,u,s,p,g,d,f,h,y,b,v,_,m,x,T,w,S,C=e("../game/GameMap"),E=e("../game/Hero"),M=(n=e("./BaseScene"))&&n.__esModule?n:{default:n},z=e("../dialogues/Dialogue"),I=e("../units/Player"),F=e("../TileInfo"),L=e("../MoveController"),O=e("../../TilesConfig"),B=e("../Locale"),P=e("../../EventsConfig"),k=e("../../config");function D(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var N=cc._decorator,j=N.ccclass,G=N.property,H=(r=G({type:C.GameMap,visible:!0}),o=G({type:E.Hero,visible:!0}),a=G(cc.Prefab),c=G(cc.AudioClip),l=G(cc.AudioClip),u=G(cc.AudioClip),s=G(cc.AudioClip),p=G({type:cc.Node,visible:!0}),g=G(cc.Prefab),j((S=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return D(t=e.call.apply(e,[this].concat(n))||this,"_gameMap",h,R(t)),D(t,"_hero",y,R(t)),D(t,"window",b,R(t)),D(t,"mainMusic",v,R(t)),D(t,"deathSound",_,R(t)),D(t,"pickupItemSound",m,R(t)),D(t,"eventSound",x,R(t)),t._currentEntity=null,t._player=null,D(t,"_base",T,R(t)),D(t,"mapWindow",w,R(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r._centerGameMap=function(){var e=this._hero.getGlobalPosition(),t=cc.view.getVisibleSize(),i=cc.v2(t.width/2-e.x,t.height/2-e.y);i.len()>150&&this._gameMap.node.runAction(cc.moveBy(.5,i))},r.start=function(){var e=this;this._ui=this.getComponent("UI"),this._player=new I.Player,this._moveController=new L.MoveController(this._player,new F.TileInfo(O.TilePrices)),this._dialogue=new z.Dialogue(this.node.getChildByName("mainUI").getChildByName("dialogue")),cc.sys.localStorage.getItem("newGame")&&(cc.sys.localStorage.removeItem("newGame"),this._dialogue.runTalk("mainDialogue")),this._ui.setEnergy(k.Config.maxEnergy),this._ui.setOxygen(k.Config.maxOxygen),cc.game.on("updatePlayer",function(e){this._ui.setEnergy(e.energy),this._ui.setOxygen(e.oxygen)}.bind(this)),cc.game.on("newItem",function(t){e._dialogue.runTalk(""+t)}),this._gameMap.addEntity(this._base),this._gameMap.addEntity(this._hero.node),this._hero.node.setPosition(this._gameMap.getPositionAt({x:50,y:50})),this._selectHero(),this._hero.node.on(cc.Node.EventType.TOUCH_END,this._onSelectHero,this),this._gameMap.node.on(C.GameMap.EVENT_SELECT_TILE,this._moveEntity,this),cc.audioEngine.playMusic(this.mainMusic,!0),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){switch(e.keyCode){case cc.macro.KEY.e:cc.director.loadScene("Final")}})},r._clearSelection=function(){this._gameMap.clearSelection(),this._currentEntity=null},r._selectHero=function(){this._currentEntity=this._hero;var e=this._gameMap.getTileBy(this._hero.getGlobalPosition());this._gameMap.highlightMove(e)},r._onSelectHero=function(e){e.stopPropagation(),this._selectHero()},r._moveEntity=function(e,t){var i=this;if(this._currentEntity){var n=this._gameMap.getTileBy(this._hero.getGlobalPosition()),r=cc.v2(e.x,e.y).sub(cc.v2(n.x,n.y)).normalize(),o=this._gameMap.getTileAt({x:n.x+r.x,y:n.y+r.y}),a=101,c=this._gameMap.getPropertiesForGID(o.gid);c&&c.id&&(a=c.id),this._gameMap.canMove(o)&&this._moveController.isPossibleMove(a)&&(t=this._gameMap.getPositionAt(o),this._moveController.makeMove(a),this._currentEntity.node.runAction(cc.sequence([cc.spawn([cc.moveTo(.2,t).easing(cc.easeBounceInOut()),cc.callFunc(function(){return i._hero.playMoveAnimation(r)})]),cc.callFunc(function(){i._ui.setEnergy(i._player.energy),i._ui.setOxygen(i._player.oxygen)}),cc.callFunc(function(){return i._gameMap.highlightMove(o)}),cc.callFunc(function(){return i._centerGameMap()}),cc.callFunc(function(){return i._processTile(e)}),cc.callFunc(function(){return i._checkGameOver()})])))}},r._checkGameOver=function(){0===this._player.oxygen?(this._openWindow(P.Events.event7,this._player),cc.audioEngine.playEffect(this.deathSound,!1)):this._player.inventory.length>=9&&cc.director.loadScene("Final")},r._openWindow=function(e,t){if(this.window){var i=cc.instantiate(this.window);this.node.addChild(i);var n=B.Locale.getString("events")[e],r=i.getComponent("BaseWindow");if(r.setSpriteFrame(n.imageKey),r.playDialogue([n]),r.player=t,e===P.Events.event7){var o=r.node.getChildByName("buttons"),a=o.getChildByName("continueButton"),c=o.getChildByName("playButton"),l=o.getChildByName("restart");a.active=!1,c.active=!1,l.active=!0}cc.audioEngine.playEffect(this.eventSound,!1)}},r.showMap=function(){if(this.mapWindow){var e=cc.instantiate(this.mapWindow);this.node.addChild(e)}},r._processTile=function(e){var t=e.gid,i=this._gameMap.getPropertiesForGID(t);i&&(i.id&&(this._player.applyItem(i.id),this._ui.setEnergy(this._player.energy),this._ui.setOxygen(this._player.oxygen),this._gameMap.removeTile(e),cc.audioEngine.playEffect(this.pickupItemSound,!1)),i.event&&this._openWindow(i.event,this._player))},n}(M.default),h=A((f=S).prototype,"_gameMap",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=A(f.prototype,"_hero",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=A(f.prototype,"window",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=A(f.prototype,"mainMusic",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A(f.prototype,"deathSound",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=A(f.prototype,"pickupItemSound",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=A(f.prototype,"eventSound",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=A(f.prototype,"_base",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=A(f.prototype,"mapWindow",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d);i.default=H,t.exports=i.default,cc._RF.pop()},{"../../EventsConfig":"EventsConfig","../../TilesConfig":"TilesConfig","../../config":"config","../Locale":"Locale","../MoveController":"MoveController","../TileInfo":"TileInfo","../dialogues/Dialogue":"Dialogue","../game/GameMap":"GameMap","../game/Hero":"Hero","../units/Player":"Player","./BaseScene":"BaseScene"}],MapWindow:[function(e,t,i){"use strict";var n;cc._RF.push(t,"10de5SE7QhM6bCvJXzR02Sx","MapWindow"),i.__esModule=!0,i.BaseWindow=void 0;var r=(0,cc._decorator.ccclass)(n=function(e){var t,i;function n(){return e.apply(this,arguments)||this}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n.prototype.closeWindow=function(){this.node.destroy()},n}(cc.Component))||n;i.BaseWindow=r,cc._RF.pop()},{}],MenuScene:[function(e,t,i){"use strict";cc._RF.push(t,"b78242N8LxBvbpgViPvPiGb","MenuScene"),i.__esModule=!0,i.default=void 0;var n,r,o,a,c,l,u,s,p=(n=e("./BaseScene"))&&n.__esModule?n:{default:n},g=e("../../config");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=cc._decorator,b=y.ccclass,v=y.property,_=(r=v(cc.AudioClip),o=v(cc.AudioClip),b((s=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return d(t=e.call.apply(e,[this].concat(n))||this,"btnSound",l,f(t)),d(t,"backgroundMusic",u,f(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.onLoad=function(){cc.audioEngine.playMusic(this.backgroundMusic,!0),e.prototype.onLoad.call(this)},r.onDisable=function(){cc.audioEngine.stopMusic()},r.startNewGame=function(){cc.sys.localStorage.setItem("newGame",!0),cc.director.loadScene("Intro")},r.resumeGame=function(){cc.director.loadScene("Main")},r.playBtnSound=function(){cc.audioEngine.play(this.btnSound,!1,g.Config.sound)},n}(p.default),l=h((c=s).prototype,"btnSound",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=h(c.prototype,"backgroundMusic",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=c))||a);i.default=_,t.exports=i.default,cc._RF.pop()},{"../../config":"config","./BaseScene":"BaseScene"}],MoveController:[function(e,t,i){"use strict";cc._RF.push(t,"13672jQ+9VA14Shj5OXkJHl","MoveController"),i.__esModule=!0,i.MoveController=void 0;var n=function(){function e(e,t){this._player=e,this._calculator=t}var t=e.prototype;return t.isPossibleMove=function(e){var t=this._calculator.calcMovePrice(e);return this._player.oxygen-t.oxygen>=0&&this._player.energy-t.energy>=0},t.makeMove=function(e){return!!this.isPossibleMove(e)&&(this._updatePlayer(e),!0)},t._updatePlayer=function(e){var t=this._calculator.calcMovePrice(e);this._player.oxygen-=t.oxygen,this._player.energy-=t.energy,t.oxygenSupply&&(this._player.oxygen+=t.oxygenSupply),t.energySupply&&(this._player.energySupply+=t.energySupply)},e}();i.MoveController=n,cc._RF.pop()},{}],Player:[function(e,t,i){"use strict";cc._RF.push(t,"1da6bc0ouFNeaxYkeHw4lBx","Player"),i.__esModule=!0,i.Player=void 0;var n=e("../../config"),r=e("../../ItemsConfig");function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){this._oxygen=n.Config.maxOxygen,this._energy=n.Config.maxEnergy,this._inventory=[]}var t,i,a=e.prototype;return a.addInventory=function(e){this._inventory.push(e)},a.hasItem=function(e){return-1!==this._inventory.indexOf(e)},a.applyItem=function(e){var t=r.ItemsPrices.find(function(t){return t.id===e});t&&(t.points,t.maxEnergy&&(this.energy+=t.maxEnergy),t.maxOxygen&&(this.oxygen+=t.maxOxygen),t.item&&(this.hasItem(t.item)||cc.game.emit("newItem",e),this.addInventory(t.item)))},t=e,(i=[{key:"energy",get:function(){return this._energy},set:function(e){this._energy=Math.min(e,n.Config.maxEnergy),cc.game.emit("updatePlayer",this)}},{key:"oxygen",get:function(){return this._oxygen},set:function(e){this._oxygen=Math.min(e,n.Config.maxOxygen),cc.game.emit("updatePlayer",this)}},{key:"inventory",get:function(){return this._inventory},set:function(e){this._inventory=e}}])&&o(t.prototype,i),e}();i.Player=a,cc._RF.pop()},{"../../ItemsConfig":"ItemsConfig","../../config":"config"}],SoundVolume:[function(e,t,i){"use strict";cc._RF.push(t,"0bfff7M+eFIxYwxDZpmywXd","SoundVolume"),i.__esModule=!0,i.default=void 0;var n,r,o,a,c,l,u,s,p,g=e("../config");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=cc._decorator,b=y.ccclass,v=y.property,_=(n=v(cc.ProgressBar),r=v(cc.Node),o=v(cc.AudioClip),b((p=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return d(t=e.call.apply(e,[this].concat(n))||this,"progressBar",l,f(t)),d(t,"knob",u,f(t)),d(t,"knobSound",s,f(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.onLoad=function(){cc.sys.localStorage.getItem("volume")&&(g.Config.sound=cc.sys.localStorage.getItem("volume"),this.progressBar.progress=1),this.knob.on("touchmove",this._onTouchMoved,this),this.knob.on("touchcancel",this._onTouchCancel,this),cc.audioEngine.setMusicVolume(g.Config.sound),cc.audioEngine.setEffectsVolume(g.Config.sound)},r.onDestroy=function(){cc.sys.localStorage.setItem("volume",g.Config.sound)},r._onTouchCancel=function(){cc.audioEngine.playEffect(this.knobSound,!1),cc.sys.localStorage.setItem("volume",g.Config.sound)},r._onTouchMoved=function(e){var t=this.progressBar.node.width,i=this.progressBar.totalLength+e.getDeltaX();i<0||i>t||(this.progressBar.totalLength+=e.getDeltaX(),g.Config.sound=i/t,cc.audioEngine.setMusicVolume(g.Config.sound),cc.audioEngine.setEffectsVolume(g.Config.sound))},n}(cc.Component),l=h((c=p).prototype,"progressBar",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=h(c.prototype,"knob",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=h(c.prototype,"knobSound",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=c))||a);i.default=_,t.exports=i.default,cc._RF.pop()},{"../config":"config"}],TileInfo:[function(e,t,i){"use strict";cc._RF.push(t,"98bdcxNvq5LG6WNZPE51kH/","TileInfo"),i.__esModule=!0,i.TileInfo=void 0;var n=function(){function e(e){this.tileprices=e}return e.prototype.calcMovePrice=function(e){var t=this.tileprices.find(function(t){return t.type===e});return t?{oxygen:t.oxygen||0,energy:t.energy||0,oxygenSupply:t.oxygenSupply||0,energySupply:t.energySupply||0}:{oxygen:0,energy:0,oxygenSupply:0,energySupply:0}},e}();i.TileInfo=n,cc._RF.pop()},{}],TilesConfig:[function(e,t,i){"use strict";cc._RF.push(t,"b9768ckQ/xGd6lDddFew6sO","TilesConfig"),i.__esModule=!0,i.TilePrices=i.Tiles=void 0;var n=e("./config"),r={dirt:101,grass:102,mud:103,water:104,mountain:201,acid:202,shrubbery:301,animals:302,base:401};i.Tiles=r;var o=[{type:r.dirt,oxygen:1},{type:r.grass,oxygen:1},{type:r.mud,oxygen:2},{type:r.water,oxygen:3},{type:r.mountain,passable:!1},{type:r.acid,passable:!1},{type:r.shrubbery,oxygen:3,energy:1},{type:r.animals,oxygen:2,energy:2},{type:r.base,oxygenSupply:n.Config.maxOxygen,energySupply:n.Config.maxEnergy}];i.TilePrices=o,cc._RF.pop()},{"./config":"config"}],TypableText:[function(e,t,i){"use strict";cc._RF.push(t,"85a5eAbbu1Bh55ElCheZztt","TypableText"),i.__esModule=!0,i.TypableText=void 0;var n,r,o,a,c,l,u,s=e("../Locale");function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=cc._decorator,y=h.ccclass,b=h.property,v=(n=b(cc.Label),r=b(cc.Label),y((u=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return p(t=e.call.apply(e,[this].concat(n))||this,"label",c,d(t)),p(t,"characterName",l,d(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r,o,a=n.prototype;return a.processDialogue=function(e){this.isTextTyping=!0,this.setCharacterName(s.Locale.getString("characters")[e.character]),this.setText(e.text)},a.setText=function(e){for(var t=this,i=function(i){t.scheduleOnce(function(){t.label.string=e.substr(0,i),i===e.length&&(t.isTextTyping=!1)},i/30)},n=0;n<=e.length;++n)i(n)},a.setCharacterName=function(e){this.characterName&&(this.characterName.string=e+": ")},r=n,(o=[{key:"isTextTyping",get:function(){return this.textIsTyping},set:function(e){this.textIsTyping=e}}])&&g(r.prototype,o),n}(cc.Component),c=f((a=u).prototype,"label",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=f(a.prototype,"characterName",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=a))||o);i.TypableText=v,cc._RF.pop()},{"../Locale":"Locale"}],UI:[function(e,t,i){"use strict";cc._RF.push(t,"e3cb72MNB5M664EpyDYcFGy","UI"),i.__esModule=!0,i.default=void 0;var n,r,o,a,c,l,u,s=e("../../config");function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,i,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var f=cc._decorator,h=f.ccclass,y=f.property,b=(n=y({type:cc.Label,visible:!0}),r=y({type:cc.Label,visible:!0}),h((u=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return p(t=e.call.apply(e,[this].concat(n))||this,"_energyLabel",c,g(t)),p(t,"_oxygenLabel",l,g(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r=n.prototype;return r.setEnergy=function(e){this._energyLabel.string=e+"/"+s.Config.maxEnergy},r.setOxygen=function(e){this._oxygenLabel.string=e+"/"+s.Config.maxOxygen},n}(cc.Component),c=d((a=u).prototype,"_energyLabel",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=d(a.prototype,"_oxygenLabel",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=a))||o);i.default=b,t.exports=i.default,cc._RF.pop()},{"../../config":"config"}],config:[function(e,t,i){"use strict";cc._RF.push(t,"c9e09x6fv1EX5Agza55hCTR","config"),i.__esModule=!0,i.Config=void 0,i.Config={language:"ru",sound:.5,maxOxygen:60,maxEnergy:3},cc._RF.pop()},{}]},{},["DecoratorsConfig","EventsConfig","ItemsConfig","TilesConfig","config","Locale","MoveController","SoundVolume","TileInfo","Dialogue","DialogueImage","TypableText","GameMap","Hero","UI","BaseScene","FinalScene","IntroScene","LoadScene","MainScene","MenuScene","Player","BaseWindow","MapWindow"]);